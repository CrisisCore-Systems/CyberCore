{% comment %}
  Header section for VoidBloom theme
  Provides site navigation and branding with trauma encoding visualization
{% endcomment %}

<header class="site-header" data-trauma-type="{{ section.settings.trauma_type }}" 
  data-intensity="{{ section.settings.trauma_intensity }}"
  data-memory-phase="{{ section.settings.memory_phase }}">
  
  <div class="site-header__container">
    <div class="site-header__logo-container">
      <a href="/" class="site-header__logo-link" aria-label="{{ shop.name }}">
        {% if section.settings.logo %}
          <img src="{{ section.settings.logo | image_url: width: 200 }}" 
               alt="{{ shop.name }}" 
               loading="eager"
               width="{{ section.settings.logo_width }}"
               class="site-header__logo">
        {% else %}
          <span class="site-header__logo-text">{{ shop.name }}</span>
        {% endif %}
      </a>
    </div>
    {% render 'primary-navigation' %}
    {% render 'header-actions' %}
  </div>

  {% if section.settings.show_announcement %}
    <div class="announcement-bar" data-trauma-type="{{ section.settings.announcement_trauma_type }}">
      <div class="container">
        <p class="announcement-text">{{ section.settings.announcement_text }}</p>
      </div>
    </div>
  {% endif %}
</header>

{% schema %}
{
  "name": "Header",
  "tag": "section",
  "class": "section-header",
  "settings": [
    {
      "type": "header",
      "content": "Branding"
    },
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo image"
    },
    {
      "type": "range",
      "id": "logo_width",
      "min": 50,
      "max": 300,
      "step": 10,
      "default": 140,
      "unit": "px",
      "label": "Logo width"
    },
    {
      "type": "header",
      "content": "Trauma Encoding"
    },
    {
      "type": "select",
      "id": "trauma_type",
      "label": "Trauma Type",
      "default": "recursion",
      "options": [
        {
          "value": "abandonment",
          "label": "Abandonment"
        },
        {
          "value": "fragmentation",
          "label": "Fragmentation"
        },
        {
          "value": "recursion",
          "label": "Recursion"
        },
        {
          "value": "surveillance",
          "label": "Surveillance"
        },
        {
          "value": "displacement",
          "label": "Displacement"
        },
        {
          "value": "dissolution",
          "label": "Dissolution"
        }
      ]
    },
    {
      "type": "range",
      "id": "trauma_intensity",
      "min": 0,
      "max": 1,
      "step": 0.1,
      "default": 0.7,
      "label": "Trauma Intensity"
    },
    {
      "type": "select",
      "id": "memory_phase",
      "label": "Memory Phase",
      "default": "cyber-lotus",
      "options": [
        {
          "value": "void-signal",
          "label": "Void Signal"
        },
        {
          "value": "cyber-lotus",
          "label": "Cyber Lotus"
        },
        {
          "value": "neural-echo",
          "label": "Neural Echo"
        },
        {
          "value": "ghost-liminal",
          "label": "Ghost Liminal"
        }
      ]
    },
    {
      "type": "header",
      "content": "Announcement Bar"
    },
    {
      "type": "checkbox",
      "id": "show_announcement",
      "label": "Show announcement",
      "default": false
    },
    {
      "type": "text",
      "id": "announcement_text",
      "label": "Announcement text",
      "default": "Neural Mesh Transfer Active | New Memory Artifacts Uploaded"
    },
    {
      "type": "select",
      "id": "announcement_trauma_type",
      "label": "Announcement Trauma Type",
      "default": "surveillance",
      "options": [
        {
          "value": "abandonment",
          "label": "Abandonment"
        },
        {
          "value": "fragmentation",
          "label": "Fragmentation"
        },
        {
          "value": "recursion",
          "label": "Recursion"
        },
        {
          "value": "surveillance",
          "label": "Surveillance"
        },
        {
          "value": "displacement",
          "label": "Displacement"
        },
        {
          "value": "dissolution",
          "label": "Dissolution"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "VoidBloom Header",
      "settings": {
        "trauma_type": "recursion",
        "trauma_intensity": 0.7,
        "memory_phase": "cyber-lotus"
      }
    }
  ]
}
{% endschema %}
