/**
 * QUANTUM-FEATURED.CSS
 * Central theme system using CSS custom properties for consistent styling across profiles
 *
 * @MutationCompatible: All Variants
 * @StrategyProfile: quantum-entangled
 * @Version: 2.1.0 (WCAG AA Compliance Update)
 */

/* Base Theme Variables */
:root {
  /* Core Colors */
  --vb-color-primary: #0ff;
  --vb-color-secondary: #08f;
  --vb-color-accent: #80ffff;
  --vb-color-background: #001a33;
  --vb-color-foreground: #f0f8ff;
  --vb-color-surface: rgb(0 26 51 / 90%);
  --vb-color-error: #ff3c5a;
  --vb-color-success: #2de370;

  /* WCAG AA Compliant Colors (4.5:1 minimum contrast) */
  --vb-color-primary-accessible: #00c8ff;
  --vb-color-secondary-accessible: #1a90ff;
  --vb-color-foreground-accessible: #fff;
  --vb-color-error-accessible: #ff5a73;
  --vb-color-success-accessible: #0c6;

  /* Typography */
  --vb-font-family-primary: 'Syn Nova', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
    Oxygen, Ubuntu, sans-serif;
  --vb-font-family-display: 'Quantum Blur', serif;
  --vb-font-family-mono: 'IBM Plex Mono', monospace;

  /* Font Sizes */
  --vb-font-size-xs: 0.75rem;
  --vb-font-size-sm: 0.875rem;
  --vb-font-size-md: 1rem;
  --vb-font-size-lg: 1.25rem;
  --vb-font-size-xl: 1.5rem;
  --vb-font-size-2xl: 2rem;
  --vb-font-weight-normal: 400;
  --vb-font-weight-medium: 500;
  --vb-font-weight-bold: 600;

  /* Animation */
  --vb-animation-speed-slow: 600ms;
  --vb-animation-speed-normal: 300ms;
  --vb-animation-speed-fast: 150ms;
  --vb-animation-timing-default: cubic-bezier(0.25, 0.1, 0.25, 1);
  --vb-animation-timing-entrance: cubic-bezier(0, 0, 0.2, 1);
  --vb-animation-timing-exit: cubic-bezier(0.4, 0, 1, 1);
  --vb-animation-timing-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);

  /* Effects */
  --vb-glow-intensity: 8px;
  --vb-glow-spread: 5px;
  --vb-glitch-intensity: 0.5;
  --vb-trauma-intensity: 0;
  --vb-bloom-intensity: 0.8;

  /* Quantum effects */
  --vb-quantum-jitter-distance: 2px;
  --vb-quantum-glitch-interval: 300ms;
  --vb-quantum-aberration-distance: 3px;

  /* Trauma-specific */
  --vb-trauma-color-abandonment: rgb(67 134 215);
  --vb-trauma-color-fragmentation: rgb(194 76 172);
  --vb-trauma-color-surveillance: rgb(124 218 156);
  --vb-trauma-color-recursion: rgb(240 157 65);
  --vb-trauma-color-displacement: rgb(218 90 103);
  --vb-trauma-color-dissolution: rgb(157 106 220);

  /* UI Sizing */
  --vb-border-radius-sm: 2px;
  --vb-border-radius-md: 4px;
  --vb-border-radius-lg: 8px;
  --vb-border-radius-xl: 16px;
  --vb-border-width-thin: 1px;
  --vb-border-width-normal: 2px;
  --vb-border-width-thick: 4px;
  --vb-spacing-xs: 0.25rem;
  --vb-spacing-sm: 0.5rem;
  --vb-spacing-md: 1rem;
  --vb-spacing-lg: 1.5rem;
  --vb-spacing-xl: 2rem;
  --vb-spacing-2xl: 3rem;

  /* Hologram Specific */
  --vb-hologram-intensity: 1;
  --vb-hologram-primary-color: var(--vb-color-primary);
  --vb-hologram-secondary-color: var(--vb-color-secondary);
  --vb-hologram-accent-color: var(--vb-color-accent);
}

/* CyberLotus Profile */
.vb-profile-cyberlotus,
[data-profile='cyberlotus'] {
  --vb-color-primary: #0ff;
  --vb-color-secondary: #08f;
  --vb-color-accent: #80ffff;
  --vb-color-background: #001a33;
  --vb-color-foreground: #e6f7ff;
  --vb-color-surface: rgb(0 26 51 / 90%);

  /* Trauma colors optimized for CyberLotus profile */
  --vb-trauma-color-abandonment: rgb(77 144 225);
  --vb-trauma-color-fragmentation: rgb(204 86 182);
  --vb-trauma-color-surveillance: rgb(134 228 166);
  --vb-trauma-color-recursion: rgb(250 167 75);
  --vb-trauma-color-displacement: rgb(228 100 113);
  --vb-trauma-color-dissolution: rgb(167 116 230);

  /* Effect intensities */
  --vb-bloom-intensity: 0.9;
  --vb-glow-spread: 7px;
  --vb-glow-intensity: 12px;
  --vb-glitch-intensity: 0.3;
  --vb-quantum-jitter-distance: 1.5px;
}

/* VoidBloom Profile */
.vb-profile-voidbloom,
[data-profile='voidbloom'] {
  --vb-color-primary: #90f;
  --vb-color-secondary: #60c;
  --vb-color-accent: #cc80ff;
  --vb-color-background: #0a0a14;
  --vb-color-foreground: #f7f2ff;
  --vb-color-surface: rgb(10 10 20 / 90%);

  /* Trauma colors optimized for VoidBloom profile */
  --vb-trauma-color-abandonment: rgb(255 85 128);
  --vb-trauma-color-fragmentation: rgb(179 51 204);
  --vb-trauma-color-surveillance: rgb(94 188 126);
  --vb-trauma-color-recursion: rgb(255 177 25);
  --vb-trauma-color-displacement: rgb(238 110 123);
  --vb-trauma-color-dissolution: rgb(187 106 220);

  /* Effect intensities */
  --vb-bloom-intensity: 1.2;
  --vb-glow-spread: 8px;
  --vb-glow-intensity: 15px;
  --vb-glitch-intensity: 0.7;
  --vb-quantum-jitter-distance: 3px;
}

/* ObsidianBloom Profile */
.vb-profile-obsidianbloom,
[data-profile='obsidianbloom'] {
  --vb-color-primary: #242424;
  --vb-color-secondary: #363636;
  --vb-color-accent: #b0f;
  --vb-color-background: #080808;
  --vb-color-foreground: #e6e6e6;
  --vb-color-surface: rgb(8 8 8 / 90%);

  /* Trauma colors optimized for ObsidianBloom profile */
  --vb-trauma-color-abandonment: rgb(179 0 64);
  --vb-trauma-color-fragmentation: rgb(153 0 204);
  --vb-trauma-color-surveillance: rgb(77 153 102);
  --vb-trauma-color-recursion: rgb(204 136 0);
  --vb-trauma-color-displacement: rgb(179 51 64);
  --vb-trauma-color-dissolution: rgb(153 102 204);

  /* Effect intensities */
  --vb-bloom-intensity: 0.5;
  --vb-glow-spread: 4px;
  --vb-glow-intensity: 8px;
  --vb-glitch-intensity: 0.3;
  --vb-quantum-jitter-distance: 1px;
}

/* NeonVortex Profile */
.vb-profile-neonvortex,
[data-profile='neonvortex'] {
  --vb-color-primary: #f0c;
  --vb-color-secondary: #0ef;
  --vb-color-accent: #ff0;
  --vb-color-background: #000;
  --vb-color-foreground: #fff;
  --vb-color-surface: rgb(0 0 0 / 90%);

  /* Trauma colors optimized for NeonVortex profile */
  --vb-trauma-color-abandonment: rgb(255 0 128);
  --vb-trauma-color-fragmentation: rgb(200 0 255);
  --vb-trauma-color-surveillance: rgb(0 255 200);
  --vb-trauma-color-recursion: rgb(255 200 0);
  --vb-trauma-color-displacement: rgb(255 50 100);
  --vb-trauma-color-dissolution: rgb(200 100 255);

  /* Effect intensities */
  --vb-bloom-intensity: 1.5;
  --vb-glow-spread: 10px;
  --vb-glow-intensity: 20px;
  --vb-glitch-intensity: 0.9;
  --vb-quantum-jitter-distance: 5px;
}

/* Quantum UI Components */
.vb-quantum-btn {
  background-color: transparent;
  border: var(--vb-border-width-normal) solid var(--vb-color-primary);
  border-radius: var(--vb-border-radius-md);
  box-shadow: 0 0 var(--vb-glow-intensity) rgb(var(--vb-color-primary-rgb, 0, 255, 255), 0.3);
  color: var(--vb-color-primary);
  cursor: pointer;
  font-family: var(--vb-font-family-primary);
  font-size: var(--vb-font-size-md);
  font-weight: var(--vb-font-weight-medium);
  letter-spacing: 0.05em;
  overflow: hidden;
  padding: var(--vb-spacing-sm) var(--vb-spacing-lg);
  position: relative;
  text-transform: uppercase;
  transition: all var(--vb-animation-speed-normal) var(--vb-animation-timing-default);
}

.vb-quantum-btn:hover,
.vb-quantum-btn:focus {
  box-shadow: 0 0 var(--vb-glow-intensity) rgb(var(--vb-color-primary-rgb, 0, 255, 255), 0.5);
  transform: translateY(-2px);
}

.vb-quantum-btn:active {
  transform: translateY(1px);
}

.vb-quantum-btn--primary {
  background-color: var(--vb-color-primary);
  color: var(--vb-color-background);
}

.vb-quantum-btn--secondary {
  background-color: transparent;
  border-color: var(--vb-color-secondary);
  color: var(--vb-color-secondary);
}

/* Quantum Card */
.vb-quantum-card {
  background-color: var(--vb-color-surface);
  border: var(--vb-border-width-thin) solid rgb(var(--vb-color-primary-rgb, 0, 255, 255), 0.3);
  border-radius: var(--vb-border-radius-lg);
  box-shadow: 0 4px 16px rgb(0 0 0 / 20%);
  overflow: hidden;
  position: relative;
  transition: all var(--vb-animation-speed-normal) var(--vb-animation-timing-default);
}

.vb-quantum-card::before {
  background: linear-gradient(
    135deg,
    rgb(var(--vb-color-primary-rgb, 0, 255, 255), 0.15) 0%,
    rgb(var(--vb-color-secondary-rgb, 0, 136, 255), 0.05) 100%
  );
  content: '';
  height: 100%;
  left: 0;
  position: absolute;
  top: 0;
  width: 100%;
}

.vb-quantum-card:hover {
  box-shadow: 0 8px 24px rgb(0 0 0 / 30%);
  transform: translateY(-5px);
}

.vb-quantum-card__content {
  padding: var(--vb-spacing-lg);
  position: relative;
  z-index: 1;
}

.vb-quantum-card__title {
  color: var(--vb-color-primary);
  font-family: var(--vb-font-family-display);
  font-size: var(--vb-font-size-xl);
  margin-bottom: var(--vb-spacing-md);
}

.vb-quantum-card__text {
  color: var(--vb-color-foreground);
  font-family: var(--vb-font-family-primary);
  line-height: 1.5;
  margin-bottom: var(--vb-spacing-md);
}

.vb-quantum-card__action {
  align-items: center;
  display: flex;
  justify-content: flex-end;
}

/* Keyframe Animations */
@keyframes vb-quantum-pulse {
  0%,
  100% {
    opacity: 80%;
  }

  50% {
    opacity: 40%;
  }
}

@keyframes vb-quantum-jitter {
  0%,
  100% {
    transform: translate(0, 0);
  }

  20% {
    transform: translate(
      calc(var(--vb-quantum-jitter-distance) * 0.5),
      calc(var(--vb-quantum-jitter-distance) * -1)
    );
  }

  40% {
    transform: translate(
      calc(var(--vb-quantum-jitter-distance) * -0.5),
      calc(var(--vb-quantum-jitter-distance) * 0.5)
    );
  }

  60% {
    transform: translate(
      calc(var(--vb-quantum-jitter-distance) * 0.7),
      calc(var(--vb-quantum-jitter-distance) * 0.3)
    );
  }

  80% {
    transform: translate(
      calc(var(--vb-quantum-jitter-distance) * -0.2),
      calc(var(--vb-quantum-jitter-distance) * -0.5)
    );
  }
}

@keyframes vb-quantum-aberration {
  0%,
  100% {
    text-shadow: calc(var(--vb-quantum-aberration-distance) * -1) 0 rgb(255 0 0 / 70%),
      0 0 rgb(0 255 0 / 70%), var(--vb-quantum-aberration-distance) 0 rgb(0 0 255 / 70%);
  }

  50% {
    text-shadow: calc(var(--vb-quantum-aberration-distance) * -0.7) 0 rgb(255 0 0 / 70%),
      0 0 rgb(0 255 0 / 70%),
      calc(var(--vb-quantum-aberration-distance) * 0.7) 0 rgb(0 0 255 / 70%);
  }
}

/* High Contrast Mode Override */
@media (forced-colors: active) {
  :root {
    --vb-color-primary: CanvasText;
    --vb-color-secondary: CanvasText;
    --vb-color-accent: CanvasText;
    --vb-color-background: Canvas;
    --vb-color-foreground: CanvasText;
    --vb-color-surface: Canvas;
    --vb-glow-intensity: 0;
    --vb-glow-spread: 0;
    --vb-bloom-intensity: 0;
    --vb-glitch-intensity: 0;
  }
}
